{% extends "./base.html" %}

<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>博客系统</title>
</head>

<body>
    <div>
        顶部分类：
        {% for cate in navs %}
        <a href="/category/{{cate.id}}">{{cate.name}}</a>
        {% endfor %}
    </div>
    <hr />


    <div>
        {% if tag %}
        <p>标签页：{{tag.name}}</p>
        {% endif %}
    </div>


    {% if category %}
    分类页：{{category.name}}
    {% endif %}

    <ul>
        {% for post in post_list %}
        <li>

            <a href="/post/{{post.id}}.html">{{post.title}}</a>
            <div>
                <span>作者：{{post.owner.username}}</span>
                <span>分类：{{post.category.name}}</span>
            </div>
            <p>{{post.description}}</p>
        </li>

        {% endfor %}
    </ul>

    <div>
        侧边栏展示：
        {% for sidebar in sidebar %}
        <h4>{{sidebar.title}}</h4>
        {{sidebar.content_html}}
        {% endfor %}
    </div>

    <hr />
    <div>
        底部分类：
        {% for cate in normal_categories %}
        <a href="/category/{{cate.id}}">{{cate.name}}</a>
        {% endfor %}
    </div>

</body>

</html> -->

{% block title %}
    {% if tag %}
        标签页：{{tag.name}}
    {% elif category %}
        分类页：{{category.name}}
    {% endif %}
{% endblock %}

{% block main %}
<ul>
    {% for post in post_list %}
    <li>

        <a href="{% url 'post-detail' post.id %}">{{post.title}}</a>
        <div>
            <span>作者：{{post.owner.username}}</span>
            <span>分类：{{post.category.name}}</span>
        </div>
        <p>{{post.description}}</p>
    </li>

    {% endfor %}
</ul>
    <div>
        {% if page_obj %}
            {% if page_obj.has_previous %}
            <a href="?page={{page_obj.previous_page_number}}">上一页</a>
            {% endif %}
            Page {{page_obj.number}} of {{paginator.num_pages}}.
            {% if page_obj.has_next %}
            <a href="?page={{page_obj.next_page_number}}">下一页</a>
            {% endif %}
        {% endif %}

    </div>



{% endblock %}


